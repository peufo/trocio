openapi: '3.0.2'
components:
  schemas:
    UserLogin:
      type: object
      description: Information minimal pour la connection d'un utilisateur
      properties:
        mail:
          type: string
        password:
          type: string
    UserCreation:
      allOf:
        - $ref: '#/components/schemas/UserLogin'
        - type: object
          description: Information minimal pour la création d'un utilisateur
          properties:
            name:
              type: string
            birth:
              type: string
              format: date-time
              nullable: true
            phone:
              type: string
              nullable: true
    User:
      allOf:
        - $ref: 'meta.yml#/components/schemas/Timestamp'
        - $ref: 'meta.yml#/components/schemas/DataBase'
        - $ref: '#/components/schemas/UserCreation'
        - type: object
          properties:
            ref:
              type: number
              nullable: true
            mailvalided:
              type: boolean
            loginAttempts:
              type: number
            lockUntil:
              type: number
            creditTroc:
              type: number
            acceptTerms:
              type: boolean
    UserPublic:
      allOf:
        - $ref: 'meta.yml#/components/schemas/Timestamp'
        - $ref: 'meta.yml#/components/schemas/DataBase'
        - type: object
          properties:
            name:
              type: string
            mail:
              description: Caché --> j***********d@gmail.com
              type: string
    UserParticipant:
      description: Information sur un participant disponnible pour l'organisateur
      allOf:
        - $ref: 'meta.yml#/components/schemas/Timestamp'
        - $ref: 'meta.yml#/components/schemas/DataBase'
        - type: object
          properties:
            name:
              type: string
            mail:
              description: En claire
              type: string
